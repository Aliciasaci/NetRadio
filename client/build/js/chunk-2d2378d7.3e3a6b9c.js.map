{"version":3,"sources":["webpack:///./src/views/ConnexionAnimateur.vue?7492","webpack:///src/views/ConnexionAnimateur.vue","webpack:///./src/views/ConnexionAnimateur.vue?37df","webpack:///./src/views/ConnexionAnimateur.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","attrs","on","$event","preventDefault","validationConnexion","_v","directives","name","rawName","value","expression","staticClass","domProps","target","composing","emailconnexion","passwordconnexion","staticRenderFns","data","methods","msgUint8","console","crypto","hashBuffer","hashArray","Array","hashHex","donnees","email","password","post","then","member","status","idMembre","alert","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,GAAGF,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,mBAAmB,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,6BAA6BC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,yBAAyB,CAACP,EAAG,KAAK,CAACJ,EAAIY,GAAG,eAAeR,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,mCAAmC,CAACH,EAAG,IAAI,CAACJ,EAAIY,GAAG,WAAWR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAkB,eAAEiB,WAAW,mBAAmBC,YAAY,QAAQX,MAAM,CAAC,SAAW,GAAG,KAAO,SAASY,SAAS,CAAC,MAASnB,EAAkB,gBAAGQ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,YAAqBrB,EAAIsB,eAAeb,EAAOW,OAAOJ,WAAUZ,EAAG,IAAI,CAACJ,EAAIY,GAAG,kBAAkBR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAqB,kBAAEiB,WAAW,sBAAsBC,YAAY,QAAQX,MAAM,CAAC,SAAW,GAAG,KAAO,YAAYY,SAAS,CAAC,MAASnB,EAAqB,mBAAGQ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,YAAqBrB,EAAIuB,kBAAkBd,EAAOW,OAAOJ,WAAUhB,EAAIM,GAAG,SAASF,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,kBAAkB,CAACH,EAAG,IAAI,CAACJ,EAAIY,GAAG,0BAA0BR,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,iBAAiB,CAACP,EAAIY,GAAG,iBAAiB,GAAGR,EAAG,IAAI,CAACJ,EAAIY,GAAG,oCAAoCR,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,eAAe,CAACP,EAAIY,GAAG,kBAAkB,KAAKR,EAAG,WAAW,IACt4CoB,EAAkB,CAAC,WAAa,IAAIxB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,kBAAkB,CAACH,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,iBAAiB,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,uBAAuB,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACc,YAAY,OAAO,CAACd,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,mBAAmB,CAACP,EAAIY,GAAG,sB,YCkC/X,G,0UAAA,CACbE,KAAFA,qBACAW,KAFA,WAGA,OACAH,kBACAC,uBAGAG,SACAf,oBADA,WACA,6KACAgB,GAAA,6CACAC,eAFA,SAGAC,kCAHA,OAGAC,EAHA,OAIAC,EAAAC,8BACAC,EAAAF,mBAAA,kDAEAG,EAAA,CACAC,uBACAC,YAEA,OACAC,KAAA,qBAAAH,GACAI,MAAA,YACA,oCACA,yCACA,gCACAC,qBACAC,qBACAC,8BAEA,8BAEAC,2CACA,0CAxBA,iDC5C4V,I,YCOxVC,EAAY,eACd,EACA5C,EACAyB,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d2378d7.3e3a6b9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{attrs:{\"id\":\"compte-content\"}},[_c('form',{attrs:{\"id\":\"compte-content-connection\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validationConnexion()}}},[_c('h1',[_vm._v(\"CONNEXION\")]),_c('div',{attrs:{\"id\":\"compte-content-connection-form\"}},[_c('p',[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.emailconnexion),expression:\"emailconnexion\"}],staticClass:\"input\",attrs:{\"required\":\"\",\"type\":\"email\"},domProps:{\"value\":(_vm.emailconnexion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.emailconnexion=$event.target.value}}}),_c('p',[_vm._v(\"Mot de passe\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordconnexion),expression:\"passwordconnexion\"}],staticClass:\"input\",attrs:{\"required\":\"\",\"type\":\"password\"},domProps:{\"value\":(_vm.passwordconnexion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passwordconnexion=$event.target.value}}}),_vm._m(1)])])]),_c('div',{attrs:{\"id\":\"compte-footer\"}},[_c('p',[_vm._v(\" Pas encore inscrit ? \"),_c('router-link',{attrs:{\"to\":\"/inscription\"}},[_vm._v(\"S'inscrire\")])],1),_c('p',[_vm._v(\" Vous êtes auditeur/auditrice ? \"),_c('router-link',{attrs:{\"to\":\"/connexion\"}},[_vm._v(\"Cliquez ici\")])],1)]),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"compte-header\"}},[_c('a',{attrs:{\"href\":\"accueil.html\"}},[_c('img',{attrs:{\"src\":\"img/logo.png\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('button',{attrs:{\"id\":\"btn-connection\"}},[_vm._v(\"Se connecter\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div id=\"compte-header\">\r\n\t\t\t<a href=\"accueil.html\"><img src=\"img/logo.png\" /></a>\r\n\t\t</div>\r\n\t\t<div id=\"compte-content\">\r\n\t\t\t<form @submit.prevent=\"validationConnexion()\" id=\"compte-content-connection\">\r\n\t\t\t\t<h1>CONNEXION</h1>\r\n\t\t\t\t<div id=\"compte-content-connection-form\">\r\n\t\t\t\t\t<p>Email</p>\r\n\t\t\t\t\t<input required v-model=\"emailconnexion\" type=\"email\" class=\"input\" />\r\n\t\t\t\t\t<p>Mot de passe</p>\r\n\t\t\t\t\t<input required v-model=\"passwordconnexion\" type=\"password\" class=\"input\" />\r\n\t\t\t\t\t<div class=\"btn\">\r\n                        <button id=\"btn-connection\">Se connecter</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n        </div>\r\n\t\t<div id=\"compte-footer\">\r\n\t\t\t<p>\r\n\t\t\t\tPas encore inscrit ?\r\n                    <router-link to=\"/inscription\">S'inscrire</router-link>\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tVous êtes auditeur/auditrice ?\r\n                    <router-link to=\"/connexion\">Cliquez ici</router-link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<Footer />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"ConnexionAnimateur\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\temailconnexion: \"\",\r\n\t\t\tpasswordconnexion: \"\"\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync validationConnexion() {\r\n\t\t\tconst msgUint8 = new TextEncoder().encode(this.passwordconnexion);// encode as (utf-8) Uint8Array\r\n\t\t\tconsole.log(msgUint8);\r\n          \tconst hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);// hash the message\r\n          \tconst hashArray = Array.from(new Uint8Array(hashBuffer));// convert buffer to byte array\r\n          \tconst hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');// convert bytes to hex string\r\n\r\n\t\t\tlet donnees = {\r\n\t\t\t\temail: this.emailconnexion,\r\n\t\t\t\tpassword: hashHex,\r\n\t\t\t};\r\n\t\t\tthis.$api\r\n\t\t\t\t.post(\"connexionAnimateur\",donnees)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tif (response.data.message == \"Connexion réussi\") {\r\n\t\t\t\t\t\tthis.$store.commit('setToken',response.data.token);\r\n\t\t\t\t\t\tthis.$store.commit('adjustMember',{\r\n\t\t\t\t\t\t\tmember : response.data.member,\r\n\t\t\t\t\t\t\tstatus : response.data.status,\r\n\t\t\t\t\t\t\tidMembre : response.data.idAnimateur\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$router.push(\"/Creneaux\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"Email ou mot de passe incorrecte.\")\r\n\t\t\t\t\t\tthis.$router.push(\"/connexionAnimateur\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnexionAnimateur.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnexionAnimateur.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnexionAnimateur.vue?vue&type=template&id=403766fe&\"\nimport script from \"./ConnexionAnimateur.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnexionAnimateur.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}